# 쿠버네티스와 같은 시스템이 필요한 이유

## 모놀리식 애플리케이션에서 마이크로서비스로 전환

<b>모놀리식 애플리케이션의 단점</b>
- 모든것이 강하게 결합되어 있다.
- 애플리케이션의 한 부분을 변경해도 전제 재배포 필요
- 수평확장(scale up)하기 매우 어렵거나 불가능하다
  - 수직확장(scale out) 전체 애플리케이션을 복사해야만 가능하다.
- 구성요소간의 경계가 불분명해진다.
- 상호의존성의 제약이 커지면서 전체 시스템 복잡성이 증가하고 품질이 저하된다.
- 분할할 수 없다면 애플리케이션 확장이 불가능하다.

> 위의 많은 문제들로 인해 "<b>마이크로서비스</b>" 아키텍쳐 선택하게 되었다.
 
---

<b>마이크로서비스로 애플리케이션 분할</b>
- 모놀리식 애플리케이션을 마이크로서비스라는 독립적으로 배포할 수 있는 작은 구성 요소로 분할
- 각 마이크로서비스는 독립적인 프로세스에서 실행
- 단순하고 잘 정의된 인터페이스 API 로 다른 마이크로서비스와 통신
- HTTP Restful API 또는 AMQP(Advanced Message Queuing Protocol)와 같은 비동기 프로토콜 이용
- 독립적인 서비스/프로세스이므로 변경한 부분만 배포 가능

![iamge_1](./image/chapter_1_1.png)

---

<b>마이크로서비스 확장</b>
- 서비스별로 수직확장가능
- 모놀리식 애플리케이션이라도 마이크로서비스인 형태로 분할해 수평확장을 가능하게 하거나, 수평 확장이 불가능 할 경우 수직으로 확장할 수 있다. 

![iamge_1](./image/chapter_1_2.png)

---

<b>마이크로서비스 배포</b>
- 마이크로서비스는 구성요소가 많아지므로 배포 조합의 수 구성 요소 간의 상호 종속성 수가 훨씬 더 많아지므로 배포 관련 결정이 점점 어려워진다.
- 마이크로서비스는 서로를 찾아 통신해야 하므로 전체가 하나의 시스템 처럼 동작할 수 있도록 구성을 해줘야 한다.
- 마이크로서비스 수가 증가함에 따라 오류가 발생할 가능성이 높아진다.
- 마이크로서비스는 여러 프로세스와 시스템에 분산돼 있기 때문에 실행 호출을 디버그하고 추적하기 어렵다. (ZipLin 같은 분산 추적 시스템으로 해결)

---

<b>환경 요구의 다양성</b>
- 모놀리식 애플리케이션은 배포해야하는 구성요소가 많을수록 모든 요구사항을 충족시키려 모든 종속성을 관리하기가 더 어려워진다.

![iamge_1](./image/chapter_1_3.png)

<b>환경 요구의 다양성</b>

